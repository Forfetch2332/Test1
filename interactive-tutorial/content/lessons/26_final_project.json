{
  "title": "Итоговый мини‑проект: Угадай число CLI",
  "summary": "Проект «Угадай число» как итог практики: простая интерактивная CLI‑утилита с аргументами, тестами и документацией. Демонстрирует применение предыдущих тем: парсинг аргументов, генераторы, обработка ошибок, тесты и упаковка.",
  "text": [
    "Цель проекта — создать надёжную и удобную CLI‑утилиту, в которой пользователь пытается угадать случайное число, генерируемое программой. Проект служит финальной интеграцией навыков: структура репозитория, виртуальное окружение, парсинг аргументов, тестирование и документация.",
    "Базовый функционал (MVP): запуск из командной строки, генерация случайного числа в диапазоне, интерактивный цикл ввода подсказок (больше/меньше), отслеживание количества попыток и вывод результата. Опция для установки верхней границы диапазона и фиксирования seed для воспроизводимости.",
    "Дополнительные возможности: режим «авто» (bot plays), логирование попыток в файл, сохранение рекордов (highscore), подсказки (например, диапазон сужается после N попыток), параметризованный уровень сложности, тесты для логики и CLI.",
    "Архитектура проекта: модуль с бизнес‑логикой (game.py), модуль для CLI (cli.py), модуль для хранения/рекордов (storage.py), тесты в папке tests, README с инструкциями и examples. Разделение логики и интерфейса упрощает тестирование и повторное использование.",
    "Рабочий цикл разработки: 1) создать виртуальное окружение и зафиксировать зависимости; 2) реализовать чистые функции для генерации числа и проверки хода; 3) покрыть ключевую логику тестами (unit); 4) добавить CLI через argparse; 5) дописать README и настроить CI для запуска тестов.",
    "Критерии готовности: программа запускается из консоли, корректно обрабатывает валидный и невалидный ввод, тесты покрывают основные сценарии (правильное обнаружение победы, обработка нечислового ввода, поведение при границах диапазона), README содержит инструкции по запуску и примеры.",
    "Художественный образ: проект — это маленькая арена, где игрок (пользователь) соревнуется с программой‑ведущим. Игра простая, но её реализация демонстрирует дисциплину структурирования, тестирования и документирования, необходимых в реальных приложениях."
  ],
  "example": "#!/usr/bin/env python3\nimport argparse\nimport random\nimport sys\n\nVERSION = '0.1.0'\n\nclass GuessGame:\n    def __init__(self, low=1, high=100, seed=None):\n        if low >= high:\n            raise ValueError('Нижняя граница должна быть меньше верхней')\n        self.low = low\n        self.high = high\n        if seed is not None:\n            random.seed(seed)\n        self.secret = random.randint(self.low, self.high)\n        self.attempts = 0\n\n    def guess(self, value):\n        try:\n            val = int(value)\n        except ValueError:\n            raise TypeError('Ввод должен быть целым числом')\n        self.attempts += 1\n        if val < self.secret:\n            return 'less'\n        if val > self.secret:\n            return 'greater'\n        return 'equal'\n\ndef build_parser():\n    p = argparse.ArgumentParser(description='Игра: Угадай число')\n    p.add_argument('-l', '--low', type=int, default=1, help='нижняя граница (включительно)')\n    p.add_argument('-H', '--high', type=int, default=100, help='верхняя граница (включительно)')\n    p.add_argument('-s', '--seed', type=int, help='seed для генератора случайных чисел')\n    p.add_argument('--bot', action='store_true', help='автоматическая игра бота (демо режима)')\n    p.add_argument('--version', action='store_true', help='показать версию и выйти')\n    return p\n\ndef main(argv=None):\n    argv = argv if argv is not None else sys.argv[1:]\n    parser = build_parser()\n    args = parser.parse_args(argv)\n\n    if args.version:\n        print(VERSION)\n        return 0\n\n    try:\n        game = GuessGame(low=args.low, high=args.high, seed=args.seed)\n    except ValueError as e:\n        print(f'Ошибка: {e}', file=sys.stderr)\n        return 2\n\n    print(f'Я загадал число от {game.low} до {game.high}. Угадайте его!')\n\n    if args.bot:\n        # простой бот: двоичный поиск\n        lo, hi = game.low, game.high\n        while True:\n            mid = (lo + hi) // 2\n            res = game.guess(mid)\n            print(f'Бот пробует {mid} -> {res}')\n            if res == 'equal':\n                print(f'Бот выиграл за {game.attempts} попыток')\n                break\n            if res == 'less':\n                lo = mid + 1\n            else:\n                hi = mid - 1\n        return 0\n\n    while True:\n        try:\n            s = input('Ваш ответ: ')\n        except (EOFError, KeyboardInterrupt):\n            print('\\nВыход. Спасибо за игру!')\n            return 0\n        try:\n            res = game.guess(s)\n        except TypeError:\n            print('Пожалуйста, введите целое число.')\n            continue\n        if res == 'less':\n            print('Загаданное число больше.')\n        elif res == 'greater':\n            print('Загаданное число меньше.')\n        else:\n            print(f'Поздравляю! Вы угадали за {game.attempts} попыток.')\n            break\n\n    return 0\n\nif __name__ == '__main__':\n    raise SystemExit(main())",
  "notes": [
    {
      "hint": "Разделяй чистую логику (класс GuessGame) и интерфейс (CLI) для удобного юнит‑тестирования."
    },
    {
      "hint": "Покрывай тестами ключевые сценарии: корректные ответы, нечисловой ввод, граничные условия и поведение бота."
    },
    {
      "hint": "Добавь тестовый режим с параметром seed, чтобы тесты были детерминированными и воспроизводимыми."
    },
    {
      "hint": "Документируй запуск в README: примеры команд, объяснение опций и требования к окружению."
    },
    {
      "hint": "Используй виртуальное окружение и requirements.txt, даже если зависимости минимальны; это хорошая практика."
    },
    {
      "hint": "Настрой CI (GitHub Actions или аналог) для автоматического запуска тестов при PR и на каждом пуше."
    },
    {
      "hint": "Для расширения проекта добавь режим сохранения рекордов (например, JSON‑файл) и команду просмотра топ‑игроков."
    },
    {
      "hint": "Не забывай об обработке исключений ввода и аккуратных кодов возврата для использования в скриптах и тестах."
    }
  ]
}
